{% extends "client/layout.html" %}
{% load static %}
{% load crispy_forms_field %}
{% block extra_css %}
<!-- daterange picker -->
  <link rel="stylesheet" href="{% static 'plugins/daterangepicker/daterangepicker.css' %}">

{% endblock %}
{% block body %}
            <!-- general form elements -->
            <div class="card card-primary">
              <div class="card-header">
                <h3 class="card-title"> Employees Payment Entry Form </h3>
              </div>
              <!-- /.card-header -->
              <!-- form start -->
              <form method="POST">
              {% csrf_token %}

                  <div class="card-body">

                  <div class="row">

                      <div class="form-group col-lg-4 col-lg-4">
                  <label>Date:</label>
                    <div class="input-group date" id="reservationdate" data-target-input="nearest">
                        {% crispy_field form.date %}
                        {% if form.date.errors %}
                            {% for error in date.errors %}
                                <div class="invalid-feedback">
                                {{ error }}
                                </div>
                            {% endfor %}
                        {% endif %}
                        <div class="input-group-append" data-target="#reservationdate" data-toggle="datetimepicker">
                            <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                        </div>
                    </div>
                </div>

                      <!-- /.form group -->
                      <div class="form-group col-lg-4 col-lg-4">
                    <label for="exampleInputPetrolrate"> Employee </label>
                      {% crispy_field form.employee_master %}
                      {% if  form.employee_master.errors %}
                          {% for error in form.employee_master.errors %}
                              <div class="invalid-feedback">
                                  {{ error }}
                              </div>
                          {% endfor %}
                      {% endif %}
                  </div>

                  </div>

                  <div class="row">

                      <div class="form-group col-lg-4 col-lg-4">
                    <label for="exampleInputDieselrate"> Amount On DailyBase </label>
                    <div class="input-group">
                      {% crispy_field form.amount_dailybase %}
                        {% if  form.amount_dailybase.errors %}
                            {% for error in form.amount_dailybase.errors %}
                                <div class="invalid-feedback">
                                    {{ error }}
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                  </div>

                      <div class="form-group col-lg-4 col-lg-4">
                    <label for="exampleInputDieselrate">Payment Type</label>
                    <div class="input-group">
                      {% crispy_field form.payment_type %}
                        {% if  form.payment_type.errors %}
                            {% for error in form.payment_type.errors %}
                                <div class="invalid-feedback">
                                    {{ error }}
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                  </div>

                  </div>

                  <div class="row">

                      <div class="form-group col-lg-4 col-lg-4" id="bankname">
                    <label for="exampleInputDieselrate">Bank Name</label>
                    <div class="input-group">
                      {% crispy_field form.bank_name %}
                        {% if  form.bank_name.errors %}
                            {% for error in form.bank_name.errors %}
                                <div class="invalid-feedback">
                                    {{ error }}
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                  </div>

                      <div class="form-group col-lg-4 col-lg-4" id="branchname">
                    <label for="exampleInputDieselrate">Branch Name</label>
                    <div class="input-group">
                      {% crispy_field form.branch_name %}
                        {% if  form.branch_name.errors %}
                            {% for error in form.branch_name.errors %}
                                <div class="invalid-feedback">
                                    {{ error }}
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                  </div>

                      <div class="form-group col-lg-4 col-lg-4" id="ifsccode">
                    <label for="exampleInputDieselrate">IFSC Code</label>
                    <div class="input-group">
                      {% crispy_field form.ifsc_code %}
                        {% if  form.ifsc_code.errors %}
                            {% for error in form.ifsc_code.errors %}
                                <div class="invalid-feedback">
                                    {{ error }}
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                  </div>

                  </div>

                  <div class="row">

                      <div class="form-group col-lg-4 col-lg-4" id="chequenumber">
                        <label for="exampleInputDieselrate">Cheque Number</label>
                        <div class="input-group">
                          {% crispy_field form.cheque_no %}
                            {% if  form.cheque_no.errors %}
                                {% for error in form.cheque_no.errors %}
                                    <div class="invalid-feedback">
                                        {{ error }}
                                    </div>
                                {% endfor %}
                            {% endif %}
                        </div>
                      </div>

                      <div class="form-group col-lg-4 col-lg-4" id="chequedate">
                        <label for="exampleInputDieselrate"> cheque Date</label>
                        <div class="input-group">
                          {% crispy_field form.cheque_date %}
                            {% if  form.cheque_date.errors %}
                                {% for error in form.cheque_date.errors %}
                                    <div class="invalid-feedback">
                                        {{ error }}
                                    </div>
                                {% endfor %}
                            {% endif %}
                        </div>
                      </div>

                  </div>

                  <div class="row">

                        <div class="form-group col-lg-4 col-lg-4" id="refference">
                        <label for="exampleInputDieselrate">Online Transaction ID</label>
                          <div class="input-group">
                            {% crispy_field form.reffrence %}
                            {% if  form.reffrence.errors %}
                                {% for error in form.reffrence.errors %}
                                <div class="invalid-feedback">
                                    {{ error }}
                                </div>
                            {% endfor %}
                            {% endif %}
                        </div>
                        </div>

                        <div class="form-group col-lg-4 col-lg-4">
                        <label for="exampleInputDieselrate">Salary</label>
                        <div class="input-group">
                            {% crispy_field form.salary %}
                            {% if  form.salary.errors %}
                                {% for error in form.salary.errors %}
                                <div class="invalid-feedback">
                                    {{ error }}
                                </div>
                            {% endfor %}
                            {% endif %}
                        </div>
                        </div>

                  </div>

                  </div>


{#                  </div>#}


                  <!-- /.card-body -->

                <div class="card-footer" align="center">
                  <button type="submit" class="btn btn-primary">Submit</button>
                </div>


              </form>
            </div>
            <!-- /.card -->

            <!-- general form elements -->

{% endblock %}
{% block extra_js %}
    <!-- bs-custom-file-input -->
    <script src=" {% static 'plugins/bs-custom-file-input/bs-custom-file-input.min.js' %} "></script>

    <!-- InputMask -->
    <script src="{% static 'plugins/moment/moment.min.js'%}"></script>
    <script src="{% static 'plugins/inputmask/jquery.inputmask.min.js'%}"></script>
    <!-- date-range-picker -->
    <script src="{% static 'plugins/daterangepicker/daterangepicker.js'%}"></script>
    <!-- Tempusdominus Bootstrap 4 -->
    <script src="{% static 'plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js'%}"></script>
<script>
$(function () {
    <!-- bootstrap color picker -->
    //Date range picker
    $('#reservationdate').datetimepicker({
        format: 'YYYY-MM-DD'
    });
});
</script>

        <script>
        document.addEventListener('DOMContentLoaded',function(){

            document.querySelector("#id_payment_type").onchange=function(){

                console.log("inside onchange ");

                if (this.value=='Cash')
                {
                    document.querySelector("#bankname").style.display='none';
                    document.querySelector("#branchname").style.display='none';
                    document.querySelector("#ifsccode").style.display='none';
                    document.querySelector("#chequenumber").style.display='none';
                    document.querySelector("#chequedate").style.display='none';
                    document.querySelector("#refference").style.display='none';
                }

                else if (this.value=='Banking Transaction')
                {
                    document.querySelector("#bankname").style.display='block';
                    document.querySelector("#branchname").style.display='block';
                    document.querySelector("#ifsccode").style.display='block';
                    document.querySelector("#chequenumber").style.display='block';
                    document.querySelector("#chequedate").style.display='block';
                    document.querySelector("#refference").style.display='none';
                }
                else
                {
                    document.querySelector("#bankname").style.display='none';
                    document.querySelector("#branchname").style.display='none';
                    document.querySelector("#ifsccode").style.display='none';
                    document.querySelector("#chequenumber").style.display='none';
                    document.querySelector("#chequedate").style.display='none';
                    document.querySelector("#refference").style.display='block';
                }
            }
        })
    </script>

{% endblock %}
